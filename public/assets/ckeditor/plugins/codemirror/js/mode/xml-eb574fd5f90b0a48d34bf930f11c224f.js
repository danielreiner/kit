CodeMirror.defineMode("xml",function(e,t){function n(e,t){function n(n){return t.tokenize=n,n(e,t)}var i=e.next();if("<"==i){if(e.eat("!"))return e.eat("[")?e.match("CDATA[")?n(s("atom","]]>")):null:e.match("--")?n(s("comment","-->")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),n(o(1))):null;if(e.eat("?"))return e.eatWhile(/[\w\._\-]/),t.tokenize=s("meta","?>"),"meta";i=e.eat("/"),E="";for(var u;u=e.eat(/[^\s\u00a0=<>\"\'\/?]/);)E+=u;return E?(S=i?"closeTag":"openTag",t.tokenize=r,"tag"):"error"}return"&"==i?(e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"))?"atom":"error":(e.eatWhile(/[^&<]/),null)}function r(e,t){var r=e.next();return">"==r||"/"==r&&e.eat(">")?(t.tokenize=n,S=">"==r?"endTag":"selfcloseTag","tag"):"="==r?(S="equals",null):/[\'\"]/.test(r)?(t.tokenize=i(r),t.tokenize(e,t)):(e.eatWhile(/[^\s\u00a0=<>\"\']/),"word")}function i(e){return function(t,n){for(;!t.eol();)if(t.next()==e){n.tokenize=r;break}return"string"}}function s(e,t){return function(r,i){for(;!r.eol();){if(r.match(t)){i.tokenize=n;break}r.next()}return e}}function o(e){return function(t,r){for(var i;null!=(i=t.next());){if("<"==i)return r.tokenize=o(e+1),r.tokenize(t,r);if(">"==i){if(1==e){r.tokenize=n;break}return r.tokenize=o(e-1),r.tokenize(t,r)}}return"meta"}}function u(){for(var e=arguments.length-1;0<=e;e--)x.cc.push(arguments[e])}function a(){return u.apply(null,arguments),!0}function f(){x.context&&(x.context=x.context.prev)}function l(e){return"openTag"==e?(x.tagName=E,a(d,c(x.startOfLine))):"closeTag"==e?(e=!1,x.context?x.context.tagName!=E&&(b.implicitlyClosed.hasOwnProperty(x.context.tagName.toLowerCase())&&f(),e=!x.context||x.context.tagName!=E):e=!0,e&&(T="error"),a(h(e))):a()}function c(e){return function(t){var n=x.tagName;return x.tagName=null,"selfcloseTag"==t||"endTag"==t&&b.autoSelfClosers.hasOwnProperty(n.toLowerCase())?(p(n.toLowerCase()),a()):("endTag"==t&&(p(n.toLowerCase()),t=b.doNotIndent.hasOwnProperty(n)||x.context&&x.context.noIndent,x.context={prev:x.context,tagName:n,indent:x.indented,startOfLine:e,noIndent:t}),a())}}function h(e){return function(t){return e&&(T="error"),"endTag"==t?(f(),a()):(T="error",a(arguments.callee))}}function p(e){for(var t;x.context;){t=x.context.tagName.toLowerCase();if(!b.contextGrabbers.hasOwnProperty(t)||!b.contextGrabbers[t].hasOwnProperty(e))break;f()}}function d(e){return"word"==e?(T="attribute",a(v,d)):"endTag"==e||"selfcloseTag"==e?u():(T="error",a(d))}function v(e){return"equals"==e?a(m,d):(b.allowMissing?"word"==e&&(T="attribute"):T="error","endTag"==e||"selfcloseTag"==e?u():a())}function m(e){return"string"==e?a(g):"word"==e&&b.allowUnquoted?(T="string",a()):(T="error","endTag"==e||"selfCloseTag"==e?u():a())}function g(e){return"string"==e?a(g):u()}var y=e.indentUnit,b=t.htmlMode?{autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1},w=t.alignCDATA,E,S,x,T;return{startState:function(){return{tokenize:n,cc:[],indented:0,startOfLine:!0,tagName:null,context:null}},token:function(e,t){e.sol()&&(t.startOfLine=!0,t.indented=e.indentation());if(e.eatSpace())return null;T=S=E=null;var n=t.tokenize(e,t);t.type=S;if((n||S)&&"comment"!=n)for(x=t;!(t.cc.pop()||l)(S||n););return t.startOfLine=!1,T||n},indent:function(e,t,i){var s=e.context;if(e.tokenize!=r&&e.tokenize!=n||s&&s.noIndent)return i?i.match(/^(\s*)/)[0].length:0;if(w&&/<!\[CDATA\[/.test(t))return 0;s&&/^<\//.test(t)&&(s=s.prev);for(;s&&!s.startOfLine;)s=s.prev;return s?s.indent+y:0},electricChars:"/",configuration:t.htmlMode?"html":"xml"}}),CodeMirror.defineMIME("text/xml","xml"),CodeMirror.defineMIME("application/xml","xml"),CodeMirror.mimeModes.hasOwnProperty("text/html")||CodeMirror.defineMIME("text/html",{name:"xml",htmlMode:!0});